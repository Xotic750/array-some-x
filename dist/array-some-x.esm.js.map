{"version":3,"sources":["../src/array-some-x.js"],"names":[],"mappings":"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","file":"array-some-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport toObject from 'to-object-x';\nimport assertIsFunction from 'assert-is-function-x';\nimport requireObjectCoercible from 'require-object-coercible-x';\nimport any from 'array-any-x';\nimport toBoolean from 'to-boolean-x';\nimport methodize from 'simple-methodize-x';\nimport call from 'simple-call-x';\n\nconst ns = [].some;\nconst nativeSome = typeof ns === 'function' && methodize(ns);\n\nconst test1 = function test1() {\n  let spy = 0;\n  const res = attempt(function attemptee() {\n    return nativeSome([1, 2], function spyAdd1(item) {\n      spy += item;\n\n      return false;\n    });\n  });\n\n  return res.threw === false && res.value === false && spy === 3;\n};\n\nconst test2 = function test2() {\n  let spy = '';\n  const res = attempt(function attemptee() {\n    return nativeSome(toObject('abc'), function spyAdd2(item, index) {\n      spy += item;\n\n      return index === 1;\n    });\n  });\n\n  return res.threw === false && res.value === true && spy === 'ab';\n};\n\nconst test3 = function test3() {\n  let spy = 0;\n  const res = attempt(function attemptee() {\n    const args = (function getArgs() {\n      /* eslint-disable-next-line prefer-rest-params */\n      return arguments;\n    })(1, 2, 3);\n\n    return nativeSome(args, function spyAdd3(item, index) {\n      spy += item;\n\n      return index === 2;\n    });\n  });\n\n  return res.threw === false && res.value === true && spy === 6;\n};\n\nconst test4 = function test4() {\n  let spy = 0;\n  const res = attempt(function attemptee() {\n    return nativeSome({0: 1, 1: 2, 3: 3, 4: 4, length: 4}, function spyAdd4(item) {\n      spy += item;\n\n      return false;\n    });\n  });\n\n  return res.threw === false && res.value === false && spy === 6;\n};\n\nconst doc = typeof document !== 'undefined' && document;\n\nconst test5 = function test5() {\n  if (doc) {\n    let spy = null;\n    const fragment = doc.createDocumentFragment();\n    const div = doc.createElement('div');\n    fragment.appendChild(div);\n    const res = attempt(function attemptee() {\n      return nativeSome(fragment.childNodes, function spyAssign(item) {\n        spy = item;\n\n        return item;\n      });\n    });\n\n    return res.threw === false && res.value === true && spy === div;\n  }\n\n  return true;\n};\n\nconst isStrict = (function getIsStrict() {\n  /* eslint-disable-next-line babel/no-invalid-this */\n  return toBoolean(this) === false;\n})();\n\nconst test6 = function test6() {\n  if (isStrict) {\n    let spy = null;\n\n    const thisTest = function thisTest() {\n      /* eslint-disable-next-line babel/no-invalid-this */\n      spy = typeof this === 'string';\n    };\n\n    const res = attempt(function attemptee() {\n      return nativeSome([1], thisTest, 'x');\n    });\n\n    return res.threw === false && res.value === false && spy === true;\n  }\n\n  return true;\n};\n\nconst test7 = function test7() {\n  const spy = {};\n  const fn =\n    'return nativeSome(\"foo\", function (_, __, context) {' +\n    'if (castBoolean(context) === false || typeof context !== \"object\") {' +\n    'spy.value = true;}});';\n\n  const res = attempt(function attemptee() {\n    /* eslint-disable-next-line no-new-func */\n    return Function('nativeSome', 'spy', 'castBoolean', fn)(nativeSome, spy, toBoolean);\n  });\n\n  return res.threw === false && res.value === false && spy.value !== true;\n};\n\nconst isWorking = toBoolean(nativeSome) && test1() && test2() && test3() && test4() && test5() && test6() && test7();\n\nconsole.log(isWorking);\n\nconst patchedSome = function some(array, callBack /* , thisArg */) {\n  /* eslint-disable-next-line prefer-rest-params */\n  return nativeSome(requireObjectCoercible(array), assertIsFunction(callBack), arguments[2]);\n};\n\n// ES5 15.4.4.17\n// http://es5.github.com/#x15.4.4.17\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\nexport const implementation = function some(array, callBack /* , thisArg */) {\n  const object = toObject(array);\n  // If no callback function or if callback is not a callable function\n  assertIsFunction(callBack);\n\n  const iteratee = function iteratee() {\n    /* eslint-disable-next-line prefer-rest-params */\n    const i = arguments[1];\n\n    /* eslint-disable-next-line prefer-rest-params */\n    if (i in arguments[2]) {\n      /* eslint-disable-next-line prefer-rest-params,babel/no-invalid-this */\n      if (call(callBack, this, [arguments[0], i, object])) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  /* eslint-disable-next-line prefer-rest-params */\n  return any(object, iteratee, arguments[2]);\n};\n\n/**\n * This method tests whether some element in the array passes the test\n * implemented by the provided function.\n *\n * @param {Array} array - The array to iterate over.\n * @param {Function} callBack - Function to test for each element.\n * @param {*} [thisArg] - Value to use as this when executing callback.\n * @throws {TypeError} If array is null or undefined.\n * @throws {TypeError} If callBack is not a function.\n * @returns {boolean} `true` if the callback function returns a truthy value for\n *  any array element; otherwise, `false`.\n */\nconst $some = isWorking ? patchedSome : implementation;\n\nexport default $some;\n"]}