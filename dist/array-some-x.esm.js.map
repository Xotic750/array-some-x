{"version":3,"sources":["../src/array-some-x.js"],"names":[],"mappings":"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","file":"array-some-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport splitIfBoxedBug from 'split-if-boxed-bug-x';\nimport toLength from 'to-length-x';\nimport toObject from 'to-object-x';\nimport assertIsFunction from 'assert-is-function-x';\n\n/** @type {BooleanConstructor} */\nconst castBoolean = true.constructor;\n/** @type {ObjectConstructor} */\nconst castObject = {}.constructor;\nconst ns = [].some;\nconst nativeSome = typeof ns === 'function' && ns;\n\nlet isWorking;\n\nif (nativeSome) {\n  let spy = 0;\n  let res = attempt.call([1, 2], nativeSome, (item) => {\n    spy += item;\n\n    return false;\n  });\n\n  isWorking = res.threw === false && res.value === false && spy === 3;\n\n  if (isWorking) {\n    spy = '';\n    res = attempt.call(castObject('abc'), nativeSome, (item, index) => {\n      spy += item;\n\n      return index === 1;\n    });\n\n    isWorking = res.threw === false && res.value === true && spy === 'ab';\n  }\n\n  if (isWorking) {\n    spy = 0;\n    res = attempt.call(\n      (function getArgs() {\n        /* eslint-disable-next-line prefer-rest-params */\n        return arguments;\n      })(1, 2, 3),\n      nativeSome,\n      (item, index) => {\n        spy += item;\n\n        return index === 2;\n      },\n    );\n\n    isWorking = res.threw === false && res.value === true && spy === 6;\n  }\n\n  if (isWorking) {\n    spy = 0;\n    res = attempt.call(\n      {\n        0: 1,\n        1: 2,\n        3: 3,\n        4: 4,\n        length: 4,\n      },\n      nativeSome,\n      (item) => {\n        spy += item;\n\n        return false;\n      },\n    );\n\n    isWorking = res.threw === false && res.value === false && spy === 6;\n  }\n\n  if (isWorking) {\n    const doc = typeof document !== 'undefined' && document;\n\n    if (doc) {\n      spy = null;\n      const fragment = doc.createDocumentFragment();\n      const div = doc.createElement('div');\n      fragment.appendChild(div);\n      res = attempt.call(fragment.childNodes, nativeSome, (item) => {\n        spy = item;\n\n        return item;\n      });\n\n      isWorking = res.threw === false && res.value === true && spy === div;\n    }\n  }\n\n  if (isWorking) {\n    const isStrict = (function getIsStrict() {\n      /* eslint-disable-next-line babel/no-invalid-this */\n      return castBoolean(this) === false;\n    })();\n\n    if (isStrict) {\n      spy = null;\n      res = attempt.call(\n        [1],\n        nativeSome,\n        () => {\n          /* eslint-disable-next-line babel/no-invalid-this */\n          spy = typeof this === 'string';\n        },\n        'x',\n      );\n\n      isWorking = res.threw === false && res.value === false && spy === true;\n    }\n  }\n\n  if (isWorking) {\n    spy = {};\n    const fn = [\n      'return nativeSome.call(\"foo\", function (_, __, context) {',\n      'if (Boolean(context) === false || typeof context !== \"object\") {',\n      'spy.value = true;}});',\n    ].join('');\n\n    /* eslint-disable-next-line no-new-func */\n    res = attempt(Function('nativeSome', 'spy', fn), nativeSome, spy);\n\n    isWorking = res.threw === false && res.value === false && spy.value !== true;\n  }\n}\n\n/**\n * This method tests whether some element in the array passes the test\n * implemented by the provided function.\n *\n * @param {Array} array - The array to iterate over.\n * @param {Function} callBack - Function to test for each element.\n * @param {*} [thisArg] - Value to use as this when executing callback.\n * @throws {TypeError} If array is null or undefined.\n * @throws {TypeError} If callBack is not a function.\n * @returns {boolean} `true` if the callback function returns a truthy value for\n *  any array element; otherwise, `false`.\n */\nlet $some;\n\nif (nativeSome) {\n  $some = function some(array, callBack /* , thisArg */) {\n    const args = [callBack];\n\n    if (arguments.length > 2) {\n      /* eslint-disable-next-line prefer-rest-params,prefer-destructuring */\n      args[1] = arguments[2];\n    }\n\n    return nativeSome.apply(array, args);\n  };\n} else {\n  // ES5 15.4.4.17\n  // http://es5.github.com/#x15.4.4.17\n  // https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\n\n  $some = function some(array, callBack /* , thisArg */) {\n    const object = toObject(array);\n    // If no callback function or if callback is not a callable function\n    assertIsFunction(callBack);\n    const iterable = splitIfBoxedBug(object);\n    const length = toLength(iterable.length);\n    let thisArg;\n\n    if (arguments.length > 2) {\n      /* eslint-disable-next-line prefer-rest-params,prefer-destructuring */\n      thisArg = arguments[2];\n    }\n\n    const noThis = typeof thisArg === 'undefined';\n    for (let i = 0; i < length; i += 1) {\n      if (i in iterable) {\n        const item = iterable[i];\n\n        if (noThis ? callBack(item, i, object) : callBack.call(thisArg, item, i, object)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n}\n\nconst s = $some;\n\nexport default s;\n"]}